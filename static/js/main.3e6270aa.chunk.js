(this["webpackJsonpreact_dynamic-list-of-posts"]=this["webpackJsonpreact_dynamic-list-of-posts"]||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(8),s=n.n(c),r=n(4),a=n(3),o=n(2),i=n.n(o),u=n(1),l=(n(15),n(16),n(17),n(0)),j=function(e){var t=e.posts,n=e.selectedPost,c=e.selectedPostId;return Object(l.jsx)("div",{className:"PostsList",children:t.length?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h2",{children:"Posts:"}),Object(l.jsx)("ul",{className:"PostsList__list",children:t.map((function(e){return Object(l.jsxs)("li",{className:"PostsList__item",children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("b",{children:"[User #".concat(e.userId,"]:")}),e.title]}),Object(l.jsx)("button",{onClick:function(){return t=e.id,c(n===t?0:t);var t},type:"button",className:n===e.id?"PostsList__button button button--selected":"PostsList__button button",children:n===e.id?"Close":"Open"})]},e.id)}))})]}):Object(l.jsx)("h2",{children:"No posts."})})},d=n(9),b="https://jsonplaceholder.typicode.com";function p(e){return m.apply(this,arguments)}function m(){return(m=Object(r.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t){e.next=6;break}return e.next=3,fetch("".concat(b,"/posts"));case 3:n=e.sent,e.next=9;break;case 6:return e.next=8,fetch("".concat(b,"/posts?userId=").concat(t));case 8:n=e.sent;case 9:return e.abrupt("return",n.json());case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(){return h.apply(this,arguments)}function h(){return(h=Object(r.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(b,"/users"));case 2:return t=e.sent,e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){return x.apply(this,arguments)}function x(){return(x=Object(r.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(b,"/posts/").concat(t));case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function v(e){return _.apply(this,arguments)}function _(){return(_=Object(r.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(b,"/comments?postId=").concat(t));case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(19);var N=function(e){var t=e.addNewComment,n=e.selectedPost,c=Object(u.useState)(""),s=Object(a.a)(c,2),r=s[0],o=s[1],i=Object(u.useState)(""),j=Object(a.a)(i,2),d=j[0],b=j[1],p=Object(u.useState)(""),m=Object(a.a)(p,2),f=m[0],h=m[1];return Object(l.jsxs)("form",{className:"NewCommentForm",onSubmit:function(e){e.preventDefault();var c={postId:n,id:Date.now(),name:r,email:d,body:f};t(c),o(""),b(""),h("")},children:[Object(l.jsx)("div",{className:"form-field",children:Object(l.jsx)("input",{value:r,onChange:function(e){return o(e.target.value)},type:"text",name:"name",placeholder:"Your name",className:"NewCommentForm__input"})}),Object(l.jsx)("div",{className:"form-field",children:Object(l.jsx)("input",{value:d,onChange:function(e){return b(e.target.value)},type:"email",name:"email",placeholder:"Your email",className:"NewCommentForm__input"})}),Object(l.jsx)("div",{className:"form-field",children:Object(l.jsx)("textarea",{value:f,onChange:function(e){return h(e.target.value)},required:!0,name:"body",placeholder:"Type comment here",className:"NewCommentForm__input"})}),Object(l.jsx)("button",{type:"submit",className:"NewCommentForm__submit-button button",children:"Add a comment"})]})},w=(n(20),function(e){var t=e.selectedPost,n=Object(u.useState)(),c=Object(a.a)(n,2),s=c[0],o=c[1],j=Object(u.useState)([]),b=Object(a.a)(j,2),p=b[0],m=b[1],f=Object(u.useState)(!1),h=Object(a.a)(f,2),x=h[0],_=h[1];Object(u.useEffect)((function(){var e=function(){var e=Object(r.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=o,e.next=3,O(t);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t]),Object(u.useEffect)((function(){var e=function(){var e=Object(r.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=m,e.next=3,v(t);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t]);return Object(l.jsx)("div",{className:"PostDetails",children:null!==s&&void 0!==s&&s.id?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h2",{children:"Post details:"}),Object(l.jsx)("section",{className:"PostDetails__post",children:Object(l.jsx)("p",{children:s.body})}),Object(l.jsxs)("section",{className:"PostDetails__comments",children:[p.length>0&&Object(l.jsx)("button",{onClick:function(){return _(!x)},type:"button",className:"button",children:x?"Show ".concat(p.length," comments"):"Hide ".concat(p.length," comments")}),Object(l.jsx)("ul",{className:"PostDetails__list",children:!x&&p.map((function(e){return Object(l.jsxs)("li",{className:"PostDetails__list-item",children:[Object(l.jsx)("button",{onClick:function(){return t=e.id,void m(p.filter((function(e){return e.id!==t})));var t},type:"button",className:"PostDetails__remove-button button",children:"X"}),Object(l.jsx)("p",{children:e.body})]})}))})]}),Object(l.jsx)("section",{children:Object(l.jsx)("div",{className:"PostDetails__form-wrapper",children:Object(l.jsx)(N,{addNewComment:function(e){m([].concat(Object(d.a)(p),[e]))},selectedPost:t})})})]}):Object(l.jsx)("h2",{children:"Select post."})})}),y=function(e){var t=e.users,n=e.selectedUser,c=e.selectedUserId;return Object(l.jsxs)("label",{children:["Select a user: \xa0",Object(l.jsxs)("select",{className:"App__user-selector",value:n,onChange:function(e){return c(+e.target.value)},children:[Object(l.jsx)("option",{value:"0",children:"All users"}),t.map((function(e){return Object(l.jsx)("option",{value:e.id,children:e.name})}))]})]})},P=function(){var e=Object(u.useState)([]),t=Object(a.a)(e,2),n=t[0],c=t[1],s=Object(u.useState)(0),o=Object(a.a)(s,2),d=o[0],b=o[1],m=Object(u.useState)([]),h=Object(a.a)(m,2),O=h[0],x=h[1],v=Object(u.useState)(0),_=Object(a.a)(v,2),N=_[0],P=_[1];return Object(u.useEffect)((function(){var e=function(){var e=Object(r.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=c,e.next=3,p(N);case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[N]),Object(u.useEffect)((function(){var e=function(){var e=Object(r.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=x,e.next=3,f();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)("header",{className:"App__header",children:Object(l.jsx)(y,{users:O,selectedUser:N,selectedUserId:P})}),Object(l.jsxs)("main",{className:"App__main",children:[Object(l.jsx)("div",{className:"App__sidebar",children:Object(l.jsx)(j,{posts:n,selectedPost:d,selectedPostId:b})}),Object(l.jsx)("div",{className:"App__content",children:Object(l.jsx)(w,{selectedPost:d})})]})]})};s.a.render(Object(l.jsx)(P,{}),document.getElementById("root"))}],[[21,1,2]]]);
//# sourceMappingURL=main.3e6270aa.chunk.js.map